<template>
	<view class="content">
		<view class="nav">
			<image class="back" src="../../static/imgs/more1w.png" mode="" @click="goBackPage"></image>
			<text class="title">上传作品</text>
		</view>
		<view class="mainArea">
			<view class="name">
				<text class="text">名称</text>
				<input class="input" v-model="content" type="text" placeholder="可以复制黏贴" />
			</view>
			<view class="selectArea">
				<text class="text">价格</text>
				<select class="select" v-model="price">
				  <option value ="0">免费</option>
				  <option value ="20">20块</option>
				  <option value="30">30块</option>
				  <option value="50">50块</option>
				</select>
			</view>
			<view class="uploadArea">
				<text class="text">上传</text>
				<select class="select" v-model="type">
				  <option value ="0">图片</option>
				  <option value ="1">视频</option>
				</select>
			</view>
			<view class="chooseImgArea">
				<text class="text" v-if="type==0">图片</text>
				<text class="text" v-if="type==1">视频</text>
				<view class="choose">
					<view class="btnUp" @click="uploadFile">
						选择上传
					</view>
					<view class="imgBox">
						
					</view>
				</view>
			</view>
			<view class="timeArea">
				<text class="text">时效</text>
				<select class="select" v-model="Prescription">
				  <option value ="5">5天</option>
				  <option value ="10">10天</option>
				  <option value="15">15天</option>
				  <option value="20">20天</option>
				</select>
			</view>
			<view class="tipArea">
				<text class="text">标签</text>
				<textarea class="input" v-model="Evaluate" value="" placeholder="#性感" />
			</view>
			<view class="btn" @click="goSubmitMsg">
				提交
			</view>
		</view>
	</view>
</template>

<script>
	export default {
		data() {
			return {
				loginMsgData:null,//登录信息
				content:'',//string 标题
				price:null,//init 0 免费
				type:0,//init 类型 0-图片 1-视频
				Resources:null,//文件对象
				Prescription:0,//init 时效
				Evaluate:'',//string	标签 示例 #性感#美女#少妇
				
				// userIdx	是	int	用户名   // token	是	string	token
				
				// type	是	int	类型 0-图片 1-视频
				// content	是	string	标题
				// price	是	decimal	价格 0-免费
				// Prescription	是	int	时效
				// Evaluate	是	string	标签 示例 #性感#美女#少妇
				// Resources	是	file	file
			};
		},
		onLoad() {//监听页面加载，其参数为上个页面传递的数据，参数类型为Object
				this.getLoginMsg()//
		},
		methods:{
			getLoginMsg:function(){
				var that = this;
				uni.getStorage({
					key: 'storage_login_str',
					success: function (res) {
						that.loginMsgData = JSON.parse(res.data);
						console.log(that.loginMsgData);
					}
				});
			},
			goBackPage:function(){//添加作品返回
				uni.navigateTo({
					url: '/pages/commoditymanagement/commoditymanagement'
				});
			},
			goSubmitMsg:function(){
				console.log(this.loginMsgData.useridx)//
				console.log(this.loginMsgData.webtoken)
				console.log(this.content)//
				console.log(this.price)
				console.log(this.type)//
				console.log(this.Resources)
				console.log(this.Prescription)
				console.log(this.Evaluate)
			},
			uploadFile:function(){
				if(this.type==0){
					console.log('开始选择图片')
					
				}else if(this.type==1){
					console.log('开始选择视频')
					
				}
			}
		}
	}
</script>

<style lang="scss">
page{
	width: 100%;
	height: 100%;
	background:rgba(25,25,25,1);
}
.content{
	width: 100%;
	height: 100%;
	display: flex;
	flex-direction: column;
	.nav{
		height: 100rpx;
		background:rgba(37,37,37,1);
		line-height: 100rpx;
		text-align: center;
		.back{
			position: absolute;
			top: 22rpx;
			left: 20rpx;
			height: 36rpx;
			width: 36rpx;
			padding: 10rpx;
		}
		.title{
			font-size:30rpx;
			color:rgba(255,255,255,1);
		}
	}
	.mainArea{
		flex: 1;
		background:rgba(25,25,25,1);
		overflow-y:scroll;
		// ----公共----
		.name,.selectArea,.uploadArea,.timeArea,.tipArea,.chooseImgArea{
			width: 690rpx;
			height: 54rpx;
			padding-top:28rpx;
			margin-left: 30rpx;
			display: flex;
			// align-items: center;
			.text{
				font-size:30rpx;
				color:rgba(172,172,172,1);
				margin-right:28rpx;
			}
		}
		// ----名称----
		.name{
			.input{
				font-size:26rpx;
				width:520rpx;
				height:54rpx;
				color:rgba(255,255,255,1);
				background:rgba(52,52,52,1);
				border-radius:8rpx;
				text-indent: 30rpx;
			}
		}
		// ----价格
		.selectArea{
			.select{
				width:248rpx;
				height:54rpx;
				background:rgba(52,52,52,1);
				border-radius:8rpx;
				border:none;
				text-indent: 30rpx;
				font-size:26rpx;
				color:rgba(255,255,255,1);
			}
		}
		// ---上传
		.uploadArea{
			.select{
				width:248rpx;
				height:54rpx;
				background:rgba(52,52,52,1);
				border-radius:8rpx;
				border:none;
				text-indent: 30rpx;
				font-size:26rpx;
				color:rgba(255,255,255,1);
			}
		}
		// ----选择图片---
		.chooseImgArea{
			height:592rpx;
			.choose{
				width:520rpx;
				height:592rpx;
				.btnUp{
					width:516rpx;
					height:50rpx;
					border:2rpx solid rgba(255,214,0,1);
					border-radius:8rpx;
					font-size:26rpx;
					color:rgba(255,214,0,1);
					text-align: center;
					line-height: 50rpx;
				}
				.imgBox{
					width:520rpx;
					height:520rpx;
					background:rgba(52,52,52,1);
					border-radius:8rpx;
					margin-top: 28rpx;
				}
			}
		}
		// ---时效---
		.timeArea{
			.select{
				width:248rpx;
				height:54rpx;
				background:rgba(52,52,52,1);
				border-radius:8rpx;
				border:none;
				text-indent: 30rpx;
				font-size:26rpx;
				color:rgba(255,255,255,1);
			}
		}
		// ----标签----
		.tipArea{
			height: 180rpx;
			align-items: flex-start;
			.input{
				width:520rpx;
				height:180rpx;
				background:rgba(52,52,52,1);
				border-radius:8rpx;
				border:none;
				text-indent: 30rpx;
				font-size:26rpx;
				color:rgba(255,255,255,1);
			}
		}
		// -----提交
		.btn{
			width:520rpx;
			height:72rpx;
			background:rgba(255,214,0,1);
			border-radius:8rpx;
			margin-top: 60rpx;
			margin-left:115rpx;
			font-size:30rpx;
			color:rgba(0,0,0,1);
			text-align: center;
			font-weight:600;
			line-height: 72rpx;
		}
	}
}
</style>
