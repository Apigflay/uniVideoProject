<template>
	<view class="main">
		<view class="top">
			<image src="../../static/pictures/back_1.png" class="img" @click="goBackPage"></image>
			<text>设定</text>
		</view>
		<view class="center">
			<view>
				<text class="font">个人</text>
				<view class="list" v-for="(item,index) in personal" :key="index" :id="index" @click="goNewPage1(index)">
					<text class="p1">{{item.title}}</text>
					<text v-show="item.no" v-if="sex1" class="p2">女性</text>
					<text v-show="item.no" v-if="sex2" class="p2">男性</text>
					<text v-show="item.no" v-if="sex3" class="p2">所有</text>
					<image class="img" src="../../static/pictures/gengduo_1.png"></image>
				</view>
			</view>
			<view>
				<text class="font">钱包</text>
				<view class="list" v-for="(item,index) in wallet" :key="index" :id="index" @click="goNewPage2(index)">
					<text class="p1">{{item.title}}</text>
					<image class="img" src="../../static/pictures/gengduo_1.png"></image>
				</view>
			</view>
			<view>
				<text class="font">关于</text>
				<view class="list" v-for="(item,index) in about" :key="index" :id="index" @click="goNewPage3(index)">
					<text class="p1">{{item.title}}</text>
					<text v-show="item.no" class="p2">简体中文</text>
					<image class="img" src="../../static/pictures/gengduo_1.png"></image>
				</view>
			</view>
			
			<view class="exit" @click="goExit()">
				<text class="p">登出</text>
			</view>
		</view>
	</view>
</template>

<script>
	import {encrypt,decrypt,system,systemId,base64ToArrayBuffer,sendData,sendD,work,sendD07,sendD11} from "../../lib/js/GlobalFunction.js"
	export default {
		data() {
			return {
				Sex: null, // 喜好
				UserIdx: null, // 用户IDX
				sex1: false,
				sex2: false,
				sex3: false,
				personal:[
					{title:'探索页喜好',no:'true'},
					// {title:'已连结账号',no:''},
					{title:'封锁名单',no:''},
					{title:'删除账号',no:''}
				],
				wallet:[
					{title:'消费明细'},
					// {title:'支付方式'},
					// {title:'我的电子收据'},
					{title:'购买钻石'}
				], 
				about:[
					{title:'语言',no:'true'},
					{title:'服务条款',no:''},
					{title:'隐私政策',no:''},
					{title:'关于 Touch Me',no:''},
					// {title:'免费下载 catr 应用程序',no:''},
					// {title:'更多',no:''}
				]
			};
		},
		onLoad(){
			this.getLoginMsg();
		},
		methods:{
			//------------------------获取个人信息----------------------------------------
			getLoginMsg:function(){ // 登录信息
				var that = this;
				uni.getStorage({
					key: 'storage_login_str',
					success: function (res) {
						that.tabbarLoginData = JSON.parse(res.data);
						console.log(that.tabbarLoginData);
						that.Sex = that.tabbarLoginData.sex;
						that.UserIdx = that.tabbarLoginData.useridx;
						if(that.tabbarLoginData.isAnchor==false){
							that.isAnchor = false;
						}
						that.getLike();
					}
				});
			},
			
			getLike:function(){
				if(this.Sex == 0){
					this.sex1 = true;
					this.sex2 = false;
					this.sex3 = false;
				}else if(this.Sex == 1){
					this.sex1 = false;
					this.sex2 = true;
					this.sex3 = false;
				}else if(this.Sex == 2){
					this.sex1 = false;
					this.sex2 = false;
					this.sex3 = true;
				}
			},
			//------------------------获取个人信息----------------------------------------
			
			//--------------------个人部分---------------------------
			goNewPage1:function(e){
				// console.log(e)
				if(e == 0){
					uni.navigateTo({
						url: '/pages/like/like'
					});
				}else if(e == 1){
					uni.navigateTo({
						url: '/pages/lockuser/lockuser'
					});
				}else if(e == 2){
					uni.navigateTo({
						url: '/pages/pagedelete/pagedelete'
					});
				}else{
					console.log(e)
				}
			},
			//--------------------个人部分---------------------------
			
			//--------------------钱包部分---------------------------
			goNewPage2:function(e){
				// console.log(e)
				if(e == 0){
					uni.navigateTo({
						url: '/pages/detailed/detailed'
					});
				}else if(e == 1){
					uni.navigateTo({
						url: '/pages/anchorme/anchorme'
					});
				}else if(e == 2){
					uni.navigateTo({
						url: '/pages/electronicreceipt/electronicreceipt'
					});
				}
			},
			//--------------------钱包部分---------------------------
			
			//--------------------关于部分---------------------------
			goNewPage3:function(e){
				// console.log(e)
				if(e == 0){
					// uni.navigateTo({
					// 	url: '/pages/detailed/detailed'
					// });
				}else if(e == 1){
					// uni.navigateTo({
					// 	url: '/pages/anchorme/anchorme'
					// });
				}else if(e == 2){
					// uni.navigateTo({
					// 	url: '/pages/electronicreceipt/electronicreceipt'
					// });
				}else if(e == 3){
					// uni.navigateTo({
					// 	url: '/pages/electronicreceipt/electronicreceipt'
					// });
				}
			},
			//--------------------关于部分---------------------------
			
			goBackPage:function(){ // 回退功能
				if(this.tabbarLoginData.isAnchor == false){
					uni.navigateTo({
						url: "/pages/my/my"
					})
				}else if(this.tabbarLoginData.isAnchor == true){
					uni.navigateTo({
						url: "/pages/anchorme/anchorme"
					})
				}
			},
		
			//--------------------------退出功能--------------------------------------
			goExit:function(){
				uni.navigateTo({
					url: '/pages/startup/startup'
				});
			}
			//--------------------------退出功能---------------------------------------
		}
	}
</script>

<style lang="scss">
page{
	width: 100%;
	height: 100%;
	background: #191919;
}
.main{
	width: 100%;
	height: 100%;
	display:flex;
	align-items:center;
	flex-direction:column;
	.top{
		position:relative;
		width:100%;
		height:100rpx;
		background: #252525;
		font-size:30rpx;
		color:#FFFFFF;
		text-align:center;
		line-height:100rpx;
		.img{
			width: 36rpx;
			height: 36rpx;
			position: absolute;
			top: 32rpx;
			left: 28rpx;
		}
	}
	.center{
		flex: 1;
		overflow-y:scroll;
		.font{
			color: #747474;
			font-size: 22rpx;
			float:left;
			align-self: flex-start;
			padding: 20rpx 36rpx;
			width: 678rpx;
			border-bottom: 1rpx solid #747474;
		}
		.list{
			width: 678rpx;
			height: 100rpx;
			padding: 0rpx 36rpx;
			background-color: #252525;
			border-bottom: 1rpx solid #747474;
			display:flex;
			align-items: center;
			justify-content:space-between;
			position:relative;
			.p1{
				font-size: 26rpx;
				color: #FFFFFF;
			}
			.p2{
				font-size: 26rpx;
				color: #747474;
				position:absolute;
				right: 79rpx;
				
			}
			.img{
				width:30rpx;
				height: 30rpx;
			}
		}
		.exit{
			width: 100%;
			height: 100rpx;
			background-color:#252525;
			display:flex;
			align-items:center;
			justify-content:center;
			margin:84rpx 0rpx 39rpx 0rpx;
			.p{
				color: #FF7676;
				font-size: 30rpx;
				line-height: 30rpx;
			}
		}
	}
}
</style>
